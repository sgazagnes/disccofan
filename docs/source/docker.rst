Running DISCCOFAN with Docker
=============================

.. role:: bold-smallcaps


This guide provides instructions on how to use :bold-smallcaps:`disccofan` via the Docker image. Docker allows for a consistent environment to run :bold-smallcaps:`disccofan`, ensuring all dependencies are correctly installed and configured. This simplifies the use of disccofan as you do not need to have all libraries installed.

Prerequisites
-------------

- Ensure that **Docker** is installed on your system. You can download Docker from the `official website <https://www.docker.com/get-started>`_ and follow the installation instructions for your platform (Windows, macOS, or Linux).
- Verify Docker installation by running the following command in your terminal:

  .. code-block:: bash

      docker --version

  This should display the Docker version number, confirming that it is installed correctly.

Pulling the Docker Image
------------------------

To use :bold-smallcaps:`disccofan`, you need to pull the Docker image that contains it. Use the following command to download the image from Docker Hub:

.. code-block:: bash

   docker pull sgazagnes/disccofan:latest

Running disccofan with Docker
-----------------------------

Once you have pulled the Docker image, you can run :bold-smallcaps:`disccofan` using Docker. Here is to run :bold-smallcaps:`disccofan` interactively:

   .. code-block:: bash

      docker run --rm -it -v $(pwd):/data sgazagnes/disccofan:latest

The ``-v $(pwd):/data`` option mounts the current working directory to the Docker container, allowing :bold-smallcaps:`disccofan` to access files on your host machine. Once in the contained, you can run :bold-smallcaps:`disccofan` using the examples and documentation provided in the other sections. Note that using mpi inside of a container may sometimes lead to a Permission denied. You may have to run the container as a root user, and add the option `--allow-run-as-root`` in the mpi command.


Accessing Output Files
----------------------

By default, output files generated by :bold-smallcaps:`disccofan` will be saved inside the Docker container. To access these files, they should be saved in a mounted directory (as demonstrated in the examples above). This allows you to easily access the output files from your host system.

Updating the Docker Image
-------------------------

To ensure you are using the latest version of the Docker image, run the following command to pull the latest version:

.. code-block:: bash

   docker pull sgazagnes/disccofan:latest


Using :bold-smallcaps:`disccofan` with Docker provides a flexible and efficient way to run the software without worrying about environment setup or dependency management. For further customization or issues, refer to the additional documentation or contact me at <sgsgazagnes@gmail.com>.
